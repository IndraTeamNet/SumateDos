@using System.Xml;

<!DOCTYPE html>
<html lang="es-ar" id="htmlGlobal">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Titulo Aplicación</title>

    <!-- ================= Favicon ================== -->
    <!-- Standard -->
    <link rel="shortcut icon" href="http://placehold.it/64.png/000/fff">
    <!-- Retina iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="144x144" href="http://placehold.it/144.png/000/fff">
    <!-- Retina iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="114x114" href="http://placehold.it/114.png/000/fff">
    <!-- Standard iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="72x72" href="http://placehold.it/72.png/000/fff">
    <!-- Standard iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="57x57" href="http://placehold.it/57.png/000/fff">

    <!-- Styles -->
    <link href="~/assets/css/lib/font-awesome.min.css" rel="stylesheet">
    <link href="~/assets/css/lib/themify-icons.css" rel="stylesheet">
    <link href="~/assets/css/lib/menubar/sidebar.css" rel="stylesheet">
    <link href="~/assets/css/lib/bootstrap.min.css" rel="stylesheet">
    <link href="~/assets/css/lib/unix.css" rel="stylesheet">
    <link href="~/assets/css/style.css" rel="stylesheet">
    <link href="~/assets/css/select2.css" rel="stylesheet" />
    <link href="~/assets/pluggins/timepicker/bootstrap-timepicker.min.css" rel="stylesheet" />
    <link href="~/assets/css/lib/calendar/fullcalendar.css" rel="stylesheet" />
    <link href="~/Content/Site.css" rel="stylesheet" />

    <!-- JQUERY VENDOR -->
    <script src="~/assets/js/lib/jquery.min.js"></script>
    <script src="~/assets/js/lib/bootstrap.min.js"></script>

</head>
<body class="sidebar-hide DisfrazBody">
    <div class="sidebar">
        <div class="nano">
            <div class="nano-content">
                <!-- Menú Activo -->
                @try
                {
                    string cText = null;
                    string cID = null;
                    string cURL = null;
                    //string cClase = "";
                    //string cPermiso = null;
                    string cArchivo;

                    cArchivo = AppDomain.CurrentDomain.BaseDirectory + "menu.xml";
                    XmlTextReader readXML = new XmlTextReader(cArchivo);
                    int contProc = 0;
                    @:<ul id="menu">








                        while (readXML.Read())
                        {
                            switch (readXML.NodeType)
                            {

                                case XmlNodeType.Element:

                                    if (readXML.Name == "Raiz")
                                    {
                                        @:<li><a href="#"><i class="ti-back-left"></i>Volver</a></li>
                                        @:<li id="li_Inicio" class="active"><a href="#"><i class="ti-home"></i>Inicio</a></li>
                                    }

                                    if (readXML.Name == "Menu")
                                    {
                                        cText = readXML.GetAttribute("text").ToString();
                                        @:<li id="li_@cText">
                                            <a class="sidebar-sub-toggle">@cText<span class="sidebar-collapse-icon ti-angle-down"></span></a>
                                        }

                                        if (readXML.Name == "Proceso")
                                        {
                                            contProc++;
                                            if (contProc == 1)
                                            {
                                                @:<ul>
                                                }
                                                cID = readXML.GetAttribute("id").ToString();
                                                //cPermiso = readXML.GetAttribute("idPermisos").ToString();
                                                //cClase = readXML.GetAttribute("clase").ToString();
                                                cText = readXML.GetAttribute("text").ToString();
                                                cURL = readXML.GetAttribute("url").ToString();
                                                @:<li><a href="@cURL">@cText</a></li>
                                            }
                                            break;

                                        case XmlNodeType.EndElement:
                                            if (readXML.Name == "Proceso")
                                            {
                                                contProc = 0;
                                            @:</ul>
                                        }

                                        if (readXML.Name == "Menu")
                                        {
                                        @:</li>
                                    }
                                    break;
                            }
                        }
                    @:</ul>
                }
                catch (Exception ex)
                {
                    throw ex;
                }
            </div>
        </div>
    </div>
    <!-- /# sidebar -->
    <div class="header">
        <div class="pull-left">
            <div class="logo">
                <a href="/Default">
                    <img src="#" alt="" />
                </a>
            </div>
            <div class="hamburger sidebar-toggle">
                <span class="line"></span>
                <span class="line"></span>
                <span class="line"></span>
            </div>
        </div>
        <div class="pull-right p-r-15">
            <ul>
                <li class="header-icon dib">
                    <span class="user-avatar" style="margin-right:15px;">Empresa</span><img class="avatar-img" src="#" alt="" /><span class="user-avatar" id="spUsuario">Usuario <i class="ti-angle-down f-s-10"></i></span>
                    <div class="drop-down dropdown-profile">
                        <div class="dropdown-content-body">
                            <ul>
                                <li><a href="#"><i class="ti-power-off"></i> <span>Cerrar Sesión</span></a></li>
                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    @RenderBody()
 

    <!-- Modal Info -->
    <div id="modalInfo" class="modal">
        <div class="modal-500 modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <p class="modal-title" id="myModalLabel">Información <strong><span id="curNombre"></span></strong></p>
                </div>
                <div class="modal-body">
                    <p id="txtModalInfo"></p>
                </div>
                <div class="modal-footer" style="padding:0px;">
                    <button id="modalInfoCerrar" type="button" class="btn btn-link m-t-10 m-b-10 m-r-10 sbmt-btn btn-sm">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!--><!-->
    <div id="ModalCargando " class="modal">
        <div class="modal-500 modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <p class="modal-title" id="myModalLabel">Cargando.. <strong><span id="curNombre"></span></strong></p>
                </div>      
            </div>
        </div>
    </div>

    <div id="spinner" class="loading" style="display: none;">
        <img id="img-spinner" src="~/assets/images/ajax-loader.gif" alt="Loading" />
    </div>

    <!-- LIBRERIAS JQUERY -->
 

    <!-- NANO SCROLLER -->
    <script src="~/assets/js/lib/jquery.nanoscroller.min.js"></script>

    <!-- SIDEBAR -->
    <script src="~/assets/js/lib/menubar/sidebar.js"></script>

    <!-- DATATABLES-->
    <script src="~/assets/js/lib/data-table/datatables.min.js"></script>
    <script src="~/assets/js/lib/data-table/dataTables.buttons.min.js"></script>
    <script src="~/assets/js/lib/data-table/buttons.flash.min.js"></script>
    <script src="~/assets/js/lib/data-table/jszip.min.js"></script>
    <script src="~/assets/js/lib/data-table/pdfmake.min.js"></script>
    <script src="~/assets/js/lib/data-table/vfs_fonts.js"></script>
    <script src="~/assets/js/lib/data-table/buttons.html5.min.js"></script>
    <script src="~/assets/js/lib/data-table/buttons.print.min.js"></script>
    <link href="~/assets/css/lib/data-table/buttons.bootstrap.min.css" rel="stylesheet" />

    <!-- SELECT2 -->
    <script src="~/assets/js/select2.full.min.js"></script>

    <!--Time Picker-->
    <script src="~/assets/pluggins/timepicker/bootstrap-timepicker.min.js"></script>

    <!-- INPUTMASK -->
    <script src="~/assets/pluggins/input-mask/jquery.inputmask.js"></script>
    <script src="~/assets/pluggins/input-mask/jquery.inputmask.date.extensions.js"></script>
    <script src="~/assets/pluggins/input-mask/jquery.inputmask.extensions.js"></script>
    <script src="~/assets/pluggins/input-mask/jquery.maskMoney.js"></script>

    <!--JQUERY UI-->
    <link href="~/assets/pluggins/jquery-ui/jquery-ui.min.css" rel="stylesheet" />
    <script src="~/assets/pluggins/jquery-ui/jquery-ui.min.js"></script>
    <script src="~/assets/js/lib/moment/moment.min.js"></script>
    <script src="~/assets/js/lib/calendar/fullcalendar.min.js"></script>
    <script src="~/assets/js/lib/calendar/es.js"></script>

    <script src="~/assets/js/form.js"></script>

    <!-- MENU DERECHO (CERRAR SESION)-->
    <script src="~/assets/js/scripts.js"></script>
</body>
<footer>   
    <div id="footerGlobal" class="footer">
        <NAV>
            <P>
                @*<A HREF="/credits.html">Credits</A> —
                <A HREF="/tos.html">Terms of Service</A> —
                <A HREF="/index.html">Blog Index</A>*@
            </P>
        </NAV>
        <p class="small">INDRA - @DateTime.Today.Year</p>
    </div>
</footer>
</html>

<script type="text/javascript">
    $(document).ready(function () {

        //$('.select2').select2();

        //$("#modalInfoCerrar").click(function () {
        //    $("#modalInfo").modal("toggle");
        //    //$("div").removeClass("modal-backdrop in");
        //});
    });

    //-------------------------------------------------------------------------------------------------------------------------------------------
    //OBTIENE PARAMETROS DE LA URL
    //-------------------------------------------------------------------------------------------------------------------------------------------
    function GetParameterValues(param) {
        var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for (var i = 0; i < url.length; i++) {
            var urlparam = url[i].split('=');
            if (urlparam[0] == param) {
                return urlparam[1];
            }
        }
    }

    function pad(number, length) {
        var str = '' + number;
        while (str.length < length) {
            str = '0' + str;
        }
        return str;
    }
</script>